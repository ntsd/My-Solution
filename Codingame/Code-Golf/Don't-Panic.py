z=int
b=input
s=str.split
j=s(b())
e={}
e[j[3]]=e['-1']=z(j[4])
for _ in range(z(j[7])):f,q=s(b());e[f]=z(q)
while 1:f,p,d=s(b());print("BWLAOICTK"[[e[f]<=z(p),e[f]>=z(p)][d[0]>"L"]::2])

z=int
b=input
s=str.split
_,_,_,a,c,_,_,x=s(b())
e={}
e[a]=e['-1']=z(c)
exec('f,q=s(b());e[f]=z(q);'*z(x))
while 1:f,p,d=s(b());print("BWLAOICTK"[[e[f]<=z(p),e[f]>=z(p)][d[0]>"L"]::2])

z=int
b=input
s=str.split
j=s(b())
e={}
e[j[3]]=e['-1']=z(j[4])
exec('f,q=s(b());e[f]=z(q);'*z(j[7]))
while 1:f,p,d=s(b());print("BWLAOICTK"[[e[f]<=z(p),e[f]>=z(p)][d[0]>"L"]::2])
